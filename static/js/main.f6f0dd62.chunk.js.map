{"version":3,"sources":["constants.js","actions/index.js","components/Badge.js","assets/aerolab-logo.svg","assets/icons/coin.svg","components/Bar.js","components/Banner.js","components/HOC/WithUser.js","components/PurchaseIndicator.js","components/Product.js","components/ProductList.js","reducers/index.js","store.js","App.js","reportWebVitals.js","index.js"],"names":["api_base","axios","defaults","headers","common","Badge","children","className","Bar","user","src","kite","alt","height","width","name","points","toLocaleString","coin","CircularProgress","Banner","withUser","Component","props","Consumer","store","getState","withAbsoluteContainer","WithUser","cost","difference","Math","abs","Product","img","category","hdUrl","ProductList","products","map","product","i","initialState","functionsCreator","newState","SET_USER","SET_PRODUCTS","CLEAR_USER","reducer","state","action","console","log","type","processAction","reduce","createStore","applyMiddleware","thunk","connect","getUser","dispatch","url","get","then","data","setUser","catch","err","getProducts","setProducts","useState","useEffect","subscribe","_user","_products","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f6f0dd62.chunk.js","sourcesContent":["export const api_base = \"https://coding-challenge-api.aerolab.co\"\nexport const api_key = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk\"\n\n","import { api_base, api_key } from '../constants';\nimport axios from 'axios';\n\naxios.defaults.headers.common['Authorization'] = `Bearer ${api_key}`;\n\nconst SET_USER = \"SET_USER\";\nconst SET_PRODUCTS = \"SET_PRODUCTS\";\nconst CLEAR_USER = \"CLEAR_USER\";\n\nconst setUser = (user) => ({\n  type: SET_USER,\n  user\n});\n\nconst setProducts = (products) => ({\n  type: SET_PRODUCTS,\n  products\n});\n\nconst clearUserAction = () => ({\n  type: CLEAR_USER\n});\n\nexport const getUser = () => (dispatch) => {\n  const url = `${api_base}/user/me`;\n\n  axios.get(url)\n    .then(({ data }) => data)\n    .then((user) => {\n      dispatch(setUser(user));\n    })\n    .catch((err) => console.log(err))\n}\n\nexport const getProducts = () => (dispatch) => {\n  const url = `${api_base}/products`;\n\n  axios.get(url)\n    .then(({ data }) => data)\n    .then((products) => {\n      dispatch(setProducts(products));\n    })\n    .catch((err) => console.log(err))\n}\n\nexport const clearUser = () => (dispatch) => {\n  dispatch(clearUserAction());\n}\n","import './Badge.css';\n\nconst Badge = ({ children }) => (\n  <div className=\"badge row center\">\n    {children}\n  </div>\n);\n\nexport default Badge;\n","export default __webpack_public_path__ + \"static/media/aerolab-logo.0a8fb170.svg\";","export default __webpack_public_path__ + \"static/media/coin.b8bc711d.svg\";","import CircularProgress from '@material-ui/core/CircularProgress';\nimport Badge from './Badge';\nimport kite from '../assets/aerolab-logo.svg'\nimport coin from '../assets/icons/coin.svg';\nimport './Bar.css';\n\nconst Bar = ({ user }) => {\n\n  const setUser = () => (user ? (\n    <>\n      <p className=\"bar-text center\">{user.name}</p>\n      <div className=\"center\">\n        <Badge>\n          <p className=\"bar-text\">{user.points.toLocaleString()}</p>\n          <img src={coin} alt=\"coin\" height=\"24\" width=\"24\" />\n        </Badge>\n      </div>\n    </>\n  ) : (\n      <div className=\"center\">\n        <CircularProgress />\n      </div>\n    )\n  )\n\n  return (\n    <div className=\"bar-container row\">\n      <img src={kite} alt=\"kite\" height=\"36\" width=\"36\" />\n      <div className=\"row\">\n        {setUser()}\n      </div>\n    </div>\n  );\n}\nexport default Bar;\n","import './Banner.css';\n\nconst Banner = () => (\n  <div className=\"banner\">\n    <p className=\"title\">Electronics</p>\n  </div>\n)\n\n\nexport default Banner;\n","import { ReactReduxContext } from 'react-redux';\n\nconst withUser = (Component) => (props) => (\n  <ReactReduxContext.Consumer>\n    {({ store }) => {\n      const { user } = store.getState();\n      return <Component user={user} {...props} />\n    }}\n  </ReactReduxContext.Consumer>\n);\n\nexport default withUser;\n","import CircularProgress from '@material-ui/core/CircularProgress';\nimport WithUser from './HOC/WithUser';\nimport './PurchaseIndicator.css';\n\nconst withAbsoluteContainer = (Component) => (\n  <div className=\"indicator-container\">\n    {Component}\n  </div>\n)\n\nconst PurchsaseBalance = ({cost, user}) => {\n  const difference = (user?.points ?? 0) - cost;\n  const hasEnough = difference >= 0;\n\n  if (!user) {\n    return withAbsoluteContainer(<CircularProgress />)\n  }\n\n  if (hasEnough) {\n    return withAbsoluteContainer(<img src=\"\" alt=\"\"/>)\n  }\n\n  return withAbsoluteContainer(\n    <div>\n      {Math.abs(difference)}\n    </div>\n  )\n\n};\n\nexport default WithUser(PurchsaseBalance);\n","import PurchaseIndicator from './PurchaseIndicator';\nimport './Product.css';\n\nconst Product = ({ img, name, category, cost }) => (\n\n  <div className=\"product-container column center\">\n    <PurchaseIndicator cost={cost} />\n    <img className=\"product-image\" src={img.hdUrl} alt={`product-${name}`} width=\"210\" />\n    <div className=\"text-block column\">\n      <p className=\"category\">{category}</p>\n      <p className=\"name\">{name}</p>\n    </div>\n  </div>\n)\n\nexport default Product;\n","import Product from './Product';\nimport './ProductList.css';\n\nconst ProductList = ({ products }) => (\n  <div className=\"product-list\">\n    {products.map((product, i) => (\n      <Product key={`product-${i}`} {...product} />\n    ))}\n  </div>\n)\n\nexport default ProductList;\n","const initialState = {\n  user: null,\n  products: []\n};\n\nconst functionsCreator = (newState) => ({\n  SET_USER: ({ user }) => ({\n    ...newState,\n    user\n  }),\n  SET_PRODUCTS: ({ products }) => ({\n    ...newState,\n    products: [...products]\n  }),\n  CLEAR_USER: () => ({\n    ...newState,\n    user: null\n  })\n});\n\nconst reducer = (state = initialState, action) => {\n  console.log(action)\n\n  const { type } = action;\n  const processAction = functionsCreator(state);\n\n  const reduce = processAction[type];\n  return reduce ? reduce(action) : state;\n}\n\nexport default reducer\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './reducers/index.js';\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nexport default store;\n","import { useEffect, useState } from 'react';\nimport { getUser, getProducts } from './actions/index';\nimport { connect } from 'react-redux';\nimport Bar from './components/Bar';\nimport Banner from './components/Banner';\nimport ProductList from './components/ProductList';\nimport store from './store';\nimport './App.css';\n\n\nfunction App({ getUser, getProducts }) {\n  const [user, setUser] = useState(null);\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    getUser();\n    getProducts();\n  }, [getProducts, getUser]);\n\n  useEffect(() => {\n    return store.subscribe(() => {\n      const _user = store.getState().user;\n      const _products = store.getState().products;\n      setUser(_user);\n      setProducts(_products);\n    })\n  }, [])\n\n  console.log(user)\n\n  return (\n    <div>\n      <Bar user={user} />\n      <Banner />\n      <ProductList products={products} />\n    </div>\n  )\n}\n\nexport default connect(null, { getUser, getProducts })(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}